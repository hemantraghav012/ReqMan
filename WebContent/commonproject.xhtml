<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:f="http://java.sun.com/jsf/core"
   xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui"
 	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="resource/css/bootstrap.css"/>
<link rel="stylesheet" href="resource/mystyle/home.css"/>
<link rel="stylesheet" href="resource/mystyle/button.css"/>
<script type="text/javascript" src="resource/js/bootstrap.js"/>
<script type="text/javascript" src="resource/js/jquery.js"/>

	<title> Update Task Status </title>
	
	<script>

function setRequestHiddenValue(new_value)
{
	document.getElementById('requestForm:requestId').value = new_value;

}

</script>
	
</h:head>
<h:body>

<div id="header">
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
</div>
       
    

     <h:form id="requestForm">
  <div class="container-fluid " style=" margin-top:2.5cm; ">
      
         
         <h:inputHidden id="requestId" value="#{updatestatusbean.requestId}" ></h:inputHidden>
      <div class="row">
      
      	<div class="col-sm-6">
      		<span style=";font-size:25px;margin-left: 3px;">Manage Update Status Of Task List</span>
      	</div>
    
     

 <div class="col-sm-6 ">
<h:link value="Back to Request List" style="text-decoration:none; color:#fff;" outcome="request" class="btn fontsize btn-primary pull-right"/>
</div>
</div>
	



<div class="ui-fluid ">

	     <p:dataTable id="requestTable" var="update1" value="#{updatestatusbean.updatestatusList3}" draggableColumns="true" resizableColumns="true"
	     reflow="true" scrollable="true" scrollHeight="310" 
	      rows="10"  paginator="true"   
	      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15"
	    rowStyleClass="#{update1.completionpercentage eq 100 ? 'red' : update1.completionpercentage gt 0 ? 'green': update1.completionpercentage eq 0 ? 'white': null}"
	     sortBy="#{update1.status},#{update1.title}" 
	     class="table table-striped table-hover table-bordered" 
	     style="margin-top:10px;  " filteredValue="#{updatestatusbean.filteredUpdateList}" 
	     widgetVar="updatestatusListTable">
	     
	     <f:facet name="header">
			<p:outputPanel>
				<div class="row">
			
				<div class= "col-sm-2" ></div>
				<div class= "col-sm-8" >
				<h:inputText id="globalFilter" onkeyup="PF('updatestatusListTable').filter()" a:placeholder="Search on any field (s) " class="form-control"  />
				</div>
				
				</div>
			</p:outputPanel>
			
			<div class="row">
				<div class= "col-sm-2" ></div>
			
			<div class= "col-sm-8" ><p:commandButton id="toggler" value="Click here to choose columns to view as per your requirement"  style="background-color:skyblue;"  />
        <p:columnToggler datasource="requestTable" trigger="toggler" />
	     </div>
			</div>
		</f:facet> 

 
 <p:column filterBy="#{update1.title}"  sortBy="#{update1.title}" headerText="Title"  filterStyle="display:none;"
			 filterMatchMode="contains"  style="text-overflow: ellipsis; white-space: nowrap; padding: 0px 0px 0px 3px;">			 
				<f:facet name="header" >
					 <h:outputText value="Title"/>
				</f:facet>
				<h:outputText value="#{update1.title}" style="display: inline;"/>
</p:column>
 
 
 <p:column filterBy="#{update1.description}"  sortBy="#{update1.description}" headerText="Description" filterStyle="display:none;"  
			 filterMatchMode="contains"   style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					 <h:outputText value="Description" />
				</f:facet>
				<h:outputText value="#{update1.description}" style="display: inline;"   />
</p:column>
 
<p:column filterBy="#{update1.completiondate}" sortBy="#{update1.completiondate}" headerText="Due Date"  filterStyle="display:none;"  
			 filterMatchMode="contains"   pattern="dd-MMM-yyyy"  style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="Due Date" />
				</f:facet>
				<h:outputText value="#{update1.completiondate}" pattern="dd-MMM-yyyy" />
			</p:column>
    
    
    
    
   <p:column filterBy="#{update1.usercategory}" sortBy="#{update1.usercategory}" headerText="Category"  filterStyle="display:none;"  
			 filterMatchMode="contains"  style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="Category" />
				</f:facet>
				<h:outputText value="#{update1.usercategory}" style="display: inline;" />
			</p:column> 
    
     <p:column filterBy="#{update1.userproject}" sortBy="#{update1.userproject}"  headerText="Project"  filterStyle="display:none;"  
			 filterMatchMode="contains" style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="Project" />
				</f:facet>
				<h:outputText value="#{update1.userproject}" style="display: inline;"  />
			</p:column> 
    
   
     <p:column filterBy="#{update1.userrequesttype}" sortBy="#{update1.userrequesttype}"  headerText="Type"  filterStyle="display:none;"  
			 filterMatchMode="contains" style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="Type" />
				</f:facet>
				<h:outputText value="#{update1.userrequesttype}"  style="display: inline;"  />
			</p:column> 
    

    
     <p:column filterBy="#{update1.completionpercentage}" sortBy="#{update1.completionpercentage}"  headerText="% Age Completion"  filterStyle="display:none;"  
			 filterMatchMode="contains"  style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="% Age
					                  Completion" />
				</f:facet>
				<h:outputText value="#{update1.completionpercentage}%" style="display: inline;"   />
			</p:column>
    
  
     <p:column filterBy="#{update1.createdby}" sortBy="#{update1.createdby}"  headerText="Task From"  filterStyle="display:none;"  
			 filterMatchMode="contains"  style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="Task From" />
				</f:facet>
				<h:outputText value="#{update1.createdby}" style="display: inline;"   />
			</p:column>
    
   <p:column filterBy="#{update1.friendName}" sortBy="#{update1.friendName}"  headerText="friendName"  filterStyle="display:none;"  
			 filterMatchMode="contains"  style="text-overflow: ellipsis; white-space: nowrap;padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="friendName" />
				</f:facet>
				<h:outputText value="#{update1.friendName}" style="display: inline;"   />
			</p:column>
    
     
    
    
</p:dataTable>
	    
	</div>
	<div>
		<strong>Export Data &nbsp;</strong>
	    <h:commandButton id="excel" class="btn btn-primary fontsize" value="Excel">
	        <p:dataExporter type="xls" target="requestTable" fileName="update1" postProcessor="#{updatestatusbean.postProcessXLS}" />
	    </h:commandButton>
	 	&nbsp;
	    <h:commandButton id="pdf" class="btn btn-primary fontsize" value="Pdf">
	        <p:dataExporter type="pdf" target="requestTable" fileName="update1" preProcessor="#{updatestatusbean.preProcessPDF}" />
	    </h:commandButton>
	</div>





<script type="text/javascript">
function start() {
    PF('statusDialog').show();
}
 
function stop() {
    PF('statusDialog').hide();
}
</script>

      </div><!-- end oc container -->
        </h:form>
   
      
      
      </h:body>

</html>