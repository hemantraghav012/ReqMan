<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" 
	   xmlns:ui="http://java.sun.com/jsf/facelets"
	    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	   xmlns:f="http://java.sun.com/jsf/core">
<h:head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link rel="stylesheet" href="resource/css/bootstrap.css"/>
<link rel="stylesheet" href="resource/mystyle/home.css"/>
<link rel="stylesheet" href="resource/mystyle/friendmaster.css"/>
<link rel="stylesheet" href="resource/mystyle/createcategory.css"/>
 <link rel="stylesheet" href="resource/mystyle/button.css"/>
<script type="text/javascript" src="resource/js/bootstrap.js"/>
<script type="text/javascript" src="resource/js/jquery.js"/>
<title> project</title>

<script>

function setProjectHiddenValue(new_value)
{
	
	document.getElementById('projectForm:projectId').value = new_value;

}

</script>



</h:head>

<h:body>

 	<div id="header">
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
</div>
       
      <!-- -end of header --> 
    
	<div id="categoryheader">
	<ui:insert name="categoryheader">
		<ui:include src="categoryheader.xhtml" />
	</ui:insert>
</div>
        
       <!-- -end of categoryheader -->
          
          
  <div class="row">
  
  
      <div class="col-sm-7  addteammember" >

  <h:form class="form-horizontal" >
  <h2 style="  margin-bottom:30px; margin-top:0px; text-align:center" > Create New  Project</h2>

<div><h:messages style = "color:red;margin:8px;" /></div>

 <div class=" row form-group ">
<div class="col-sm-3 control-label"><h:outputLabel  >Project Name:</h:outputLabel></div>
<div class=" col-sm-9"> <h:inputText value="#{projectbean.projectName}" maxlength="20" class="  form-control"  id="projectname"  required="true" requiredMessage="* Please enter project Name"/><span style="color:red;">Please enter upto 20 characters.</span></div>
 <h:message for="projectname"  style="color:red;margin:8px;"/>  
</div><br></br>

<div class=" row form-group ">
 <div class="col-sm-3 control-label" style="padding-top:0px;"><h:outputLabel  >Project Access:  <span   data-toggle="tooltip" title="Select project Access to own and all" style="color: blue; font-size:18px">?</span> </h:outputLabel></div>
<div class=" col-sm-9"> 
<h:selectOneRadio value = "#{projectbean.projectaccess}" id="projectaccess" required="true"    requiredMessage="* Please enter projectaccess"> 
   <f:selectItem itemValue = "true" itemLabel = "&nbsp;&nbsp;Requestor and task owner only &nbsp; &nbsp;&nbsp; &nbsp;" />
     
    <f:selectItem itemValue = "false" itemLabel = "&nbsp;&nbsp;ALL"  />
</h:selectOneRadio></div>
 
 <h:message for="projectaccess"  style="color:red;margin:8px;"/> 
 </div><br></br>
 <div class=" row form-group ">
 <div class="col-sm-3 .col-sm-offset-2"></div>
 <div class="col-sm-9 "><h:commandButton action="#{projectbean.saveProject}" value="Submit" class="btn fontsize btn-success btn-block"></h:commandButton></div>

</div>



</h:form>
  
 
            <hr ></hr>

 <h:form id="projectForm">
      <div  class="gridmargin">
 		<h:inputHidden id="projectId" value="#{projectbean.projectId}" ></h:inputHidden>
    
      
      		<h2 style="text-align:center;">Manage Request Project List</h2>
      	
      		<br></br>	(Only active project will be available for transaction)
<div class="ui-fluid">
<p:growl id="msgs" showDetail="true"/>
	     <p:dataTable id="projectTable" var="project" value="#{projectbean.projectList}" editable="true" editMode="cell" 
	     reflow="true" scrollable="true" scrollHeight="250" sortBy="#{project.status},#{project.name}"
	      class="table table-striped table-hover table-bordered" style="margin-top:20px" 
	       filteredValue="#{projectbean.filteredProjectList}"     widgetVar="projectListTable">
	      
	       <f:attribute name="updateProjectId" value="#{project.userProjectId}" />
	      <p:ajax event="cellEdit" listener="#{projectbean.onCellEdit}" update=":projectForm:msgs" />
 
	      
	        	     
	     <f:facet name="header">
			<p:outputPanel >
			<div class="row">
			
				<div class= "col-sm-12">
				<h:inputText id="globalFilter" onkeyup="PF('projectListTable').filter()" a:placeholder="Search on any field (s) " class="form-control "/>
			</div>
			</div>
			</p:outputPanel>
		</f:facet>
			
			
			
			  <p:column headerText="Project Name" sortBy="#{project.name}" filterBy="#{project.name}" filterStyle="display:none;" filterMatchMode="contains" style="padding: 0px 0px 0px 3px;">
	        <f:facet name="header">
					<h:outputText value="Project Name" />
				</f:facet>
	        
	            <h:outputText value="#{project.name}" />
	        </p:column>
			
	 
	 
	 
	 <p:column headerText="Status" filterBy="#{project.status}" sortBy="#{project.status}"  filterStyle="display:none;" filterMatchMode="contains"  style="width:100px;padding: 0px 0px 0px 3px;text-align:left; ">
              <p:cellEditor>
                 <f:facet name="output"><h:outputText value="#{project.status}" /></f:facet>
               <f:facet name="input">
                   <p:selectOneMenu value="#{project.status}" onclick='setProjectHiddenValue(#{project.userProjectId})' style="width:100px">
                       <f:selectItem   itemLabel="Active" itemValue="Active" />
                        <f:selectItem  itemLabel="InActive" itemValue="InActive" />
                   </p:selectOneMenu>
               </f:facet>    </p:cellEditor>
          </p:column>
	      
	 <p:column headerText="Project Access" filterBy="#{project.projectaccess}" sortBy="#{project.projectaccess}"  filterStyle="display:none;" filterMatchMode="contains"  style="width:145px;padding: 0px 0px 0px 3px; ">
              <p:cellEditor>
                 <f:facet name="output"><h:outputText value="#{project.projectaccess}" /></f:facet>
               <f:facet name="input">
                   <p:selectOneMenu value="#{project.projectaccess}" onclick='setProjectHiddenValue(#{project.userProjectId})' style="width:135px">
                       <f:selectItem   itemLabel="Employee" itemValue="Employee" />
                        <f:selectItem  itemLabel="ALL" itemValue="ALL" />
                   </p:selectOneMenu>
               </f:facet>    </p:cellEditor>
          </p:column>
	        
	        
	      
	       
	    </p:dataTable>
	    <p:contextMenu for="projectTable" widgetVar="cMenu">   
       <p:menuitem value="Edit Cell" icon="ui-icon-search" onclick="PF('projectListTable').showCellEditor();return false;"/>  
       <p:menuitem value="Hide Menu" icon="ui-icon-close" onclick="PF('cMenu').hide()"/>  
   </p:contextMenu> 
	</div>

	<div>
		<strong>Export Data &nbsp;</strong>
	    <h:commandButton id="excel" class="btn btn-primary fontsize" value="Excel">
	        <p:dataExporter type="xls" target="projectTable" fileName="project"   postProcessor="#{projectbean.postProcessXLS}"/>
	    </h:commandButton>
	 	&nbsp;
	    <h:commandButton id="pdf" class="btn btn-primary fontsize" value="Pdf">
	        <p:dataExporter type="pdf" target="projectTable" fileName="project"  preProcessor="#{projectbean.preProcessPDF}"/>
	    </h:commandButton>
	</div>

</div><!-- end oc container -->
      
      </h:form>
      
      </div>
      
      
        <div class="col-sm-5" style="background-color:#fff;margin-top:0px;">
       <div class="textbox">
       <p style=" ">Active request projects can be use for  classifying requests.
                           These projects can be used to filter your requests and managed them effective.</p>
    </div>
    <br></br>
    <div>
<img  src="resource/image/project.jpeg" class="img-responsive img-thumbnail" alt="collabor8" style="width:100%;height:600px;" ></img>

</div>
      
        </div>

       </div>
      <script>
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();   
});
</script>
      </h:body>

</html>