<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link rel="stylesheet" href="resource/css/bootstrap.css"/>
<link rel="stylesheet" href="resource/mystyle/home.css"/>
<link rel="stylesheet" href="resource/mystyle/createcategory.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="resource/js/bootstrap.js"/>
<script type="text/javascript" src="resource/js/jquery.js"/>
<title>Friend List</title>

<script>

function setFriendHiddenValue(new_value)
{
	
	document.getElementById('friendForm:friendId').value = new_value;

}

</script>


</h:head>
<h:body style="background-color:#fff">
	
<div id="header">
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
</div>
       
      <!-- -end of header --> 
      
   
	<div id="userheader">
	<ui:insert name="userheader">
		<ui:include src="userheader.xhtml" />
	</ui:insert>
</div>
        
       <!-- -end of userheader -->


 <h:form id="friendForm">
      <div class="container fixedcontainer" style=" margin-top:1cm; ">
 		<h:inputHidden id="friendId" value="#{friendbean.friendId}" ></h:inputHidden>
      <div class="row">
      
      	<div class="col-sm-6">
      		<span style=";font-size:25px;margin-left: 3px;">Manage Friend List</span>
      	</div>
      	
     	<div class="col-sm-6">       				
				<h:commandLink  value="Add friend" action="#{friendbean.newFriend}" class="btn btn-primary btn-md pull-right"/>				
				
			
		</div>

	  </div>


	<div>

	     <p:dataTable id="friendTable" var="friend" value="#{friendbean.friendList}" reflow="true" 
	     scrollable="true" scrollHeight="250" sortBy="#{friend.status},#{friend.firstname}" 
	     class="table table-striped table-hover table-bordered" style="margin-top:20px"
   filteredValue="#{friendbean.filteredFriendList}"     widgetVar="friendListTable">
   
   
   <f:facet name="header">
			<p:outputPanel>
				<h:outputText value="Search all fields:" />
				<h:inputText id="globalFilter" onkeyup="PF('friendListTable').filter()" />
			</p:outputPanel>
		</f:facet>
			
			
	 
	       <p:column headerText="Short Name" style="width:3cm;"
filterBy="#{friend.shortname}"  filterStyle="display:none;" filterMatchMode="contains">
 <f:facet name="header">
					<h:outputText value="Short Name" />
				</f:facet>
        <h:outputText value="#{friend.shortname}" />
         </p:column>
        
        <p:column headerText="First Name" style="width:3cm;" sortBy="#{friend.firstname}"
        filterBy="#{friend.firstname}"  filterStyle="display:none;" filterMatchMode="contains">
 <f:facet name="header">
					<h:outputText value="Frist Name" />
				</f:facet>
        		
        		<h:outputText value="#{friend.firstname}" />    		
        </p:column>
 
        <p:column headerText="Last Name" style="width:3cm;"
        filterBy="#{friend.lastname}"  filterStyle="display:none;" filterMatchMode="contains">
 <f:facet name="header">
					<h:outputText value="Last Name" />
				</f:facet>
        
       	<h:outputText value="#{friend.lastname}" />    		
        </p:column>
 
         <p:column headerText="Email Id" style="width:7cm;"  
filterBy="#{friend.emailid}"  filterStyle="display:none;" filterMatchMode="contains">
 <f:facet name="header">
					<h:outputText value="Email Id" />
				</f:facet>
        
         <h:outputText value="#{friend.emailid}"   /> 
            	</p:column>        
	 
	        <p:column headerText="Status" style="width:3cm;" sortBy="#{friend.status}" 
filterBy="#{friend.status}"  filterStyle="display:none;" filterMatchMode="contains">
 <f:facet name="header">
					<h:outputText value="Status" />
				</f:facet>
        
	            <h:outputText value="#{friend.status}" />
	        </p:column>
	        
	        <p:column  headerText="Modify" exportable="false" style="width:3cm; text-align:center">
				
				<p:commandLink id="nonAjax" styleClass="btn btn-primary " style="color:white;" onclick='setFriendHiddenValue(#{friend.userFriendId})' action="#{friendbean.modifyAction()}" ajax="false" >
	        		Update
	    		</p:commandLink>
	    		 
	        </p:column>
	       
	    </p:dataTable>
	    
	</div>

	<div>
		<strong>Export Data &nbsp;</strong>
	    <h:commandButton id="excel" class="btn btn-info" value="Excel">
	        <p:dataExporter type="xls" target="friendTable" fileName="friend" />
	    </h:commandButton>
	 	&nbsp;
	    <h:commandButton id="pdf" class="btn btn-info" value="Pdf">
	        <p:dataExporter type="pdf" target="friendTable" fileName="friend" />
	    </h:commandButton>
	</div>

</div><!-- end oc container -->
      
      </h:form>
      
      
      
      
      </h:body>

</html>