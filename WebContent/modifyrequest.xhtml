<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
       xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">


<h:head>

<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="resource/css/bootstrap.css"/>
<link rel="stylesheet" href="resource/mystyle/home.css"/>
<link rel="stylesheet" href="resource/mystyle/createcategory.css"/>
<link rel="stylesheet" href="resource/mystyle/button.css"/>
<script type="text/javascript" src="resource/js/bootstrap.js"/>
<script type="text/javascript" src="resource/js/jquery.js"/>
<title>View/Modify Request</title>
 



</h:head>
<h:body>
<style type="text/css"> 
.selectRadio Label {
	margin-right: 51px;
} 
.selectRadio1 Label {
	margin-right: 7px;
} 
</style>

<div id="header">
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
</div>
       
      <!-- -end of header --> 
         <h:messages style = "color:red;margin:8px;" />
      	
        <div class="ui-fluid">
        
        <h:messages style = "color:red;margin:8px;" />
        
        
        
        
            <p:panelGrid columns="1"  layout="grid" styleClass="ui-panelgrid-blank ui-fluid" style=" border: 0;">
               
     
       <h:form enctype="multipart/form-data" class="form-horizontal">
      <div class="container fixedcontainerrequset" style=" margin-top:50px; ">
  <h2 style=" text-align: center;"> View/Modify Request</h2>
  
  
  
  
 <div class=" row form-group ">
 <div class="col-sm-3 .col-sm-offset-3"></div>
 <div class="col-sm-4 ">
  <c:choose>
  <c:when test="#{createrequest.stage eq 8 }"> 

 </c:when>
 <c:otherwise>
 <h:commandButton action="#{createrequest.updateRequest}" value="Update" class="btn fontsize btn-success btn-block"  ></h:commandButton>
  </c:otherwise> 
 </c:choose>
 </div>

 <div class="col-sm-4 ">
<h:link value="Back To Request List" style="text-decoration:none; color:#fff;" outcome="request" class="btn fontsize btn-primary btn-block"/>
</div>
</div>
  
  
  
  
  
  
  
  
  
  
       <h:inputHidden value = "#{createrequest.requestId}" id = "hiddenField" /> 

 <div class=" row form-group ">
 <div class="col-sm-2 control-label"><h:outputLabel><span style="color:red;">* </span> Title:</h:outputLabel></div>
<div class=" col-sm-10">
<c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
 <h:inputText value="#{createrequest.title}"   class="  form-control" readonly="true" disabled="true" id="title" required="true" requiredMessage="* Please enter Title" />
 </c:when>
 <c:otherwise>
  <h:inputText value="#{createrequest.title}"   class="  form-control" readonly="true" disabled="true" id="title" required="true" requiredMessage="* Please enter Title" />
 
 </c:otherwise>
 </c:choose>
 
 </div>
 <h:message for="title"  style="color:red;margin:8px;"/> 

</div>

 <div class=" row form-group " >
 <div class="col-sm-2 control-label"><h:outputLabel>Description:</h:outputLabel></div>
<div class=" col-sm-10">

  <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
<h:inputTextarea id="address" value="#{createrequest.description}"    
 cols="19" rows="3" class="  form-control" readonly="true" disabled="true" />
 </c:when>
 
<c:otherwise>
<h:inputTextarea id="address" value="#{createrequest.description}"    
 cols="19" rows="3" class="form-control" />
</c:otherwise>

 </c:choose>
 </div>
<h:message for="address"  style="color:red;margin:6px;"/>
</div>

 
 
 <div class="row form-grop">
 <div class="col-sm-2 control-label">
 <h:outputLabel style="margin-top:0.1em;">Team Member:</h:outputLabel>
</div>
 <div class="col-sm-4 control-label" >
 
 <c:choose>
  <c:when test="#{createrequest.stage == 8 }">

   <p:selectOneMenu  id="multiple" value="#{createrequest.userfriend}" style=" border:0;width:100%;" 
   readonly="true" disabled="true">
             <f:selectItem itemLabel="#{createrequest.newrequestVo.friendName}" itemValue="" />
            <f:selectItems value="#{friendbean.friendList}" var="friend" itemLabel="#{friend.emailid}"  itemValue="#{friend.userFriendId}"  />                               
             </p:selectOneMenu >
                                </c:when>
                                
                                <c:otherwise>                                
                                 <p:selectOneMenu  id="multiple" value="#{createrequest.userfriend}" style=" border:0;width:100%; ">
                                   <f:selectItem itemLabel="#{createrequest.newrequestVo.friendName}" itemValue="" />
                                <f:selectItems value="#{friendbean.friendList}" var="friend" itemLabel="#{friend.emailid}"  itemValue="#{friend.userFriendId}"  />                               
                                </p:selectOneMenu>                        
                                
                                </c:otherwise>
                                </c:choose>
                            
 </div>
     
                                
   <h:message for="multiple"  style="color:red;margin:8px;"/>
 <div class="col-sm-2 control-label">
 <h:outputLabel style="margin-top:0px;" >Due Date:</h:outputLabel>
 </div>
<div class="col-sm-4">

 <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
<p:calendar id="completiondate" value="#{createrequest.completiondate}" style=" border: 0;"  mindate="#{createrequest.endDate}"  pattern="dd-MM-yyyy" mask="true"  required="true" requiredMessage="* Please enter completion Date" readonly="true" disabled="true" />
</c:when>
<c:otherwise>
<p:calendar id="completiondate" value="#{createrequest.completiondate}" style=" border: 0;"   mindate="#{createrequest.endDate}"  pattern="dd-MM-yyyy" mask="true"  required="true" requiredMessage="* Please enter completion Date"  />

</c:otherwise>
</c:choose>
 </div>
 <h:message for="completiondate"  style="color:red;margin:8px;"/>
 </div>


<div class=" row form-group ">
 
 <div class="col-sm-2 control-label">
<h:outputLabel>Project:</h:outputLabel>
</div>
 <div class=" col-sm-4">
 <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
 <p:selectOneMenu id="project" value="#{createrequest.userproject}" style=" border: 0;"  readonly="true" disabled="true">
            <f:selectItem itemLabel="#{createrequest.newrequestVo.userproject}" itemValue="" />
           <f:selectItems value="#{projectbean.projectList}" var="project" itemLabel="#{project.name}"  itemValue="#{project.userProjectId}"/>
        </p:selectOneMenu>
        </c:when>
        
        <c:otherwise>
        
         <p:selectOneMenu id="project" value="#{createrequest.userproject}" style=" border: 0;"  >
            <f:selectItem itemLabel="#{createrequest.newrequestVo.userproject}" itemValue="" />
           <f:selectItems value="#{projectbean.projectList}" var="project" itemLabel="#{project.name}"  itemValue="#{project.userProjectId}"/>
        </p:selectOneMenu>
        
        </c:otherwise>
        
        </c:choose>
        
        
        
</div>
 <h:message for="project"  style="color:red;margin:8px;"/>
 <div class="col-sm-2 control-label"> 

 <h:outputLabel>Category:</h:outputLabel>
 </div>
 <div class=" col-sm-4">
  <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
      <p:selectOneMenu  value="#{createrequest.usercategory}"  style="  border: none;" readonly="true" disabled="true">
            <f:selectItem itemLabel="#{createrequest.newrequestVo.usercategory}" itemValue="" />
           <f:selectItems value="#{categorybean.categoryList}"  var="category" itemLabel="#{category.name}"
                          itemValue="#{category.userCategoryId}"/>
        </p:selectOneMenu>
        
        </c:when>
        <c:otherwise>
          <p:selectOneMenu  value="#{createrequest.usercategory}"  style="  border: none;" >
            <f:selectItem itemLabel="#{createrequest.newrequestVo.usercategory}" itemValue="" />
           <f:selectItems value="#{categorybean.categoryList}"  var="category" itemLabel="#{category.name}"
                          itemValue="#{category.userCategoryId}"/>
        </p:selectOneMenu>
        
        
        </c:otherwise>
        
        </c:choose>
        

</div>
 <h:message   style="color:red;margin:8px;"/>
</div>

 <div class=" row form-group ">
 
 <div class="col-sm-2 control-label">
 <h:outputLabel style="white-space:nowrap;">Type:</h:outputLabel>
 </div>
 <div class=" col-sm-4">
  <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
 
 <p:selectOneMenu id="requesttype" value="#{createrequest.userrequesttype}"  style=" border: 0;" readonly="true" disabled="true">
            <f:selectItem itemLabel="#{createrequest.newrequestVo.userrequesttype}" itemValue="" />
            <f:selectItems value="#{requesttypebean.requesttypeList}" var="requesttype" itemLabel="#{requesttype.name}"  itemValue="#{requesttype.userRequesttypeId}"/>
        </p:selectOneMenu>
        </c:when>
        <c:otherwise>
         <p:selectOneMenu id="requesttype" value="#{createrequest.userrequesttype}"  style=" border: 0;" >
            <f:selectItem itemLabel="#{createrequest.newrequestVo.userrequesttype}" itemValue="" />
            <f:selectItems value="#{requesttypebean.requesttypeList}" var="requesttype" itemLabel="#{requesttype.name}"  itemValue="#{requesttype.userRequesttypeId}"/>
        </p:selectOneMenu>
        
        </c:otherwise>
        
        </c:choose>
               
</div>
 <h:message for="requesttype"  style="color:red;margin:8px;"/>
 
  <div class="col-sm-2 control-label"><h:outputLabel>Attached File:</h:outputLabel></div>
<div class=" col-sm-4">  <h:inputText value="#{createrequest.newrequestVo.fileName}" readonly="true" class="  form-control" disabled="true" id="userrequesttype12"  style="background-color:lightgrey;"  requiredMessage="* Please enter Title"/></div>
 <h:message for="AttachedFile"  style="color:red;margin:8px;"/> 
</div>


 <div class=" row form-group ">

 <div class="col-sm-2 control-label">
 <h:outputLabel>Priority: &nbsp;
 <span   data-toggle="tooltip" 
 title="Team members can be advised to focus on requests as per  indicated priority." 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>
 </h:outputLabel> 
 </div>
<div class=" col-sm-4">

 <c:choose>
  <c:when test="#{createrequest.stage == 8 }"> 
  <p:selectOneMenu  value="#{createrequest.priority}"  style=" border: 0;" readonly="true" disabled="true" >
            <f:selectItem itemLabel="Select" itemValue="" />
             <f:selectItem itemLabel="High" itemValue="High" />
              <f:selectItem itemLabel="Medium" itemValue="Medium" />
               <f:selectItem itemLabel="Low" itemValue="Low" />
           
 </p:selectOneMenu>
 </c:when>
<c:otherwise>

<p:selectOneMenu  value="#{createrequest.priority}"  style=" border: 0;" >
            <f:selectItem itemLabel="Select" itemValue="" />
             <f:selectItem itemLabel="High" itemValue="High" />
              <f:selectItem itemLabel="Medium" itemValue="Medium" />
               <f:selectItem itemLabel="Low" itemValue="Low" />
           
 </p:selectOneMenu>
 </c:otherwise>
 </c:choose>
 <h:message for="onlyone"  style="color:red;"/>
</div>

 <div class="col-sm-2 control-label">
 <h:outputLabel>Weightage: &nbsp;
 <span   data-toggle="tooltip" 
 title="Performance  can be improved by allocating  importance to individual tasks. Very usefull in project delivery." 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>
 
 </h:outputLabel> 
 </div>
<div class=" col-sm-4">
 <c:choose>
  <c:when test="#{createrequest.stage == 8 }">
 <p:selectOneMenu  value="#{createrequest.weightage}"  style=" border: 0;" readonly="true" disabled="true">
            <f:selectItem itemLabel="Select" itemValue="" />
             <f:selectItem itemLabel="1" itemValue="1" />
              <f:selectItem itemLabel="2" itemValue="2" />
               <f:selectItem itemLabel="3" itemValue="3" />
                <f:selectItem itemLabel="4" itemValue="4" />
                 <f:selectItem itemLabel="5" itemValue="5" />
                  <f:selectItem itemLabel="6" itemValue="6" />
                   <f:selectItem itemLabel="7" itemValue="7" />
                    <f:selectItem itemLabel="8" itemValue="8" />          
                   <f:selectItem itemLabel="9" itemValue="9" />
                    <f:selectItem itemLabel="10" itemValue="10" />
 </p:selectOneMenu>
</c:when>
<c:otherwise>
 <p:selectOneMenu  value="#{createrequest.weightage}"  style=" border: 0;" >
            <f:selectItem itemLabel="Select" itemValue="" />
             <f:selectItem itemLabel="1" itemValue="1" />
              <f:selectItem itemLabel="2" itemValue="2" />
               <f:selectItem itemLabel="3" itemValue="3" />
                <f:selectItem itemLabel="4" itemValue="4" />
                 <f:selectItem itemLabel="5" itemValue="5" />
                  <f:selectItem itemLabel="6" itemValue="6" />
                   <f:selectItem itemLabel="7" itemValue="7" />
                    <f:selectItem itemLabel="8" itemValue="8" />          
                   <f:selectItem itemLabel="9" itemValue="9" />
                    <f:selectItem itemLabel="10" itemValue="10" />
 </p:selectOneMenu>

</c:otherwise>

</c:choose>

 <h:message for="onlyone"  style="color:red;"/>
</div>


 </div>
    <div class=" row form-group ">
 <div class="col-sm-2 control-label">
 <h:outputLabel > Estimated Effort:
 <span   data-toggle="tooltip" 
 title="Estimate the efforts required for this task ( in hours , days etc) to monitor efficiency and profitability. Comparison with Actual Efforts will also improve the accurcy of estimation " 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>
 
 </h:outputLabel> 
 </div>
<div class=" col-sm-4">

 <c:choose>
  <c:when test="#{createrequest.stage == 8 }">
  
<h:inputText  class="  form-control"   value="#{createrequest.estimatedeffort}" readonly="true" disabled="true"></h:inputText>
  </c:when>
  <c:otherwise>
  
<h:inputText  class="  form-control"   value="#{createrequest.estimatedeffort}" ></h:inputText>
  </c:otherwise>
  </c:choose>


 <h:message for="estimateeffect"  style="color:red;"/>
</div>

 <div class="col-sm-2 control-label" >
 <h:outputLabel>Actual Effort:&nbsp;
 <span   data-toggle="tooltip" 
 title="Record actual  efforts invested in the task ( in hours , days etc) . Comparison with estimated Efforts will also improve the accurcy of estimation over time." 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>
 </h:outputLabel> 
 </div>
<div class=" col-sm-4">
<h:inputText  class="  form-control"  value="#{createrequest.actualeffort}" readonly="true" disabled="true"></h:inputText>
 <h:message for="actualeffect"  style="color:red;"/>
</div>



</div>




    <div class=" row form-group " >
<div class="col-sm-2 control-label" ><h:outputLabel>Notes: &nbsp;
 <span   data-toggle="tooltip" 
 title=" Enter any message to be shared with the requester. in case you can not accept the request or want the requester to change some details , put your comments here." 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>
 </h:outputLabel></div>
<div class=" col-sm-10"><h:inputTextarea id="message" value="#{createrequest.message}"    
 cols="19" rows="3" class="form-control" /></div>
<h:message for="message"  style="color:red;margin:6px;"/>

 </div>

<div class=" row form-group ">
 <div class="col-sm-2 control-label" style="padding-top:0cm;"><h:outputLabel>Stage: </h:outputLabel></div>
<div class=" col-sm-6"> 
<h:selectOneRadio value = "#{createrequest.stage}" id="stage" styleClass="selectRadio1"  requiredMessage="* Please enter status" > 

<c:choose>

<c:when test="#{createrequest.stage == 1}">
    <f:selectItem   itemValue = "1" itemLabel = "&nbsp;Requested&nbsp; &nbsp; "   /> 

    <f:selectItem   itemValue = "6" itemLabel = "&nbsp;Cancel" /> 
    </c:when>

<c:when test="#{createrequest.stage == 2}">
    <f:selectItem   itemValue = "2" itemLabel = "&nbsp;Accepted&nbsp; &nbsp; &nbsp; " /> 
    <f:selectItem   itemValue = "7" itemLabel = "&nbsp;Hold&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " /> 
    <f:selectItem   itemValue = "6" itemLabel = "&nbsp;Cancel" /> 
    </c:when>



<c:when test="#{createrequest.stage == 3}">
    <f:selectItem   itemValue = "3" itemLabel = "&nbsp;Returned&nbsp; &nbsp; &nbsp; "/> 
    <f:selectItem   itemValue = "1" itemLabel = "&nbsp;Re-Send Request"/>  
    </c:when>
    
<c:when test="#{createrequest.stage == 4}">
    <f:selectItem   itemValue = "4" itemLabel = "&nbsp;In-Progress&nbsp; " />
    <f:selectItem   itemValue = "7" itemLabel = "&nbsp;Hold&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " /> 
    <f:selectItem   itemValue = "6" itemLabel = "&nbsp;Cancel" />      
    </c:when>
    
<c:when test="#{createrequest.stage == 5}">
     <f:selectItem   itemValue = "5" itemLabel = "&nbsp;Completed&nbsp; &nbsp; " /> 
     <f:selectItem   itemValue = "8" itemLabel = "&nbsp;Close&nbsp; &nbsp;&nbsp; &nbsp;"  /> 
     <f:selectItem   itemValue = "4" itemLabel = "&nbsp;In-Progress&nbsp; " />     
    </c:when>
    
  
    
 <c:when test="#{createrequest.stage == 6}">
     <f:selectItem   itemValue = "6" itemLabel = "&nbsp;Cancel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " /> 
     <f:selectItem   itemValue = "1" itemLabel = "&nbsp;Requested&nbsp; &nbsp; " /> 
     <f:selectItem   itemValue = "7" itemLabel = "&nbsp;Hold" /> 
        
    </c:when>
    
<c:when test="#{createrequest.stage == 7 }">
     <f:selectItem   itemValue = "7" itemLabel = "&nbsp;Hold&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " /> 
      <f:selectItem   itemValue = "6" itemLabel = "&nbsp;Cancel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " />
     <f:selectItem   itemValue = "1" itemLabel = "&nbsp;Re-Send Request" /> 
     
    </c:when>
    
   <c:when test="#{createrequest.stage == 8 }">   
     <f:selectItem   itemValue = "8" itemLabel = "&nbsp;Closed&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " /> 
   
    </c:when>

   <c:otherwise >   
   <f:selectItem itemValue = "1" itemDisabled="true" />  
   <f:selectItem itemValue = "2" itemDisabled="true"/>      
   <f:selectItem itemValue = "3" itemDisabled="true"/> 
   <f:selectItem itemValue = "4" itemDisabled="true" />    
   <f:selectItem itemValue = "5" itemDisabled="true"/> 
   <f:selectItem itemValue = "6" itemDisabled="true"/>
   <f:selectItem itemValue = "7" itemDisabled="true"/> 
   <f:selectItem itemValue = "8" itemDisabled="true" /> 
</c:otherwise>

</c:choose>
</h:selectOneRadio> </div>
 <h:message for="stage"  style="color:red;margin:8px;"/> 
 </div>
 

<c:choose>
  <c:when test="#{createrequest.stage == 5 || createrequest.stage == 8}"> 
   
 <div class=" row form-group">
 <div class="col-sm-2 control-label" style="padding-top:0cm;">  
 <h:outputLabel  >Rating: </h:outputLabel></div>
<div class=" col-sm-4 pull-left" > 
 <p:rating id ="rating" style="background-color:lightblue;" value="#{createrequest.rating}"></p:rating>  
</div>
 <div class="col-sm-2 control-label" style="padding-top:0cm;" >
 <h:outputLabel>Percentage:&nbsp;
 <span   data-toggle="tooltip" 
 title=" Update the progress of task  completion in the number field or using the slider." 
 style="margin-top:2px;" class="pull-right glyphicon glyphicon-info-sign"></span>

</h:outputLabel></div>
<div class=" col-sm-4 pull-left" >  

   <p:inputNumber id="txt1" value="#{createrequest.completionpercentage}" symbol=" %" symbolPosition="s"   style="width:10px; "/>

</div>

 </div><br></br>
 
<div class=" row form-group">
 <div class="col-sm-2 control-label" style="padding-top:0cm;">
 <h:outputLabel  >Feedback: </h:outputLabel></div>
<div class=" col-sm-10">  
  

   <h:inputTextarea id="inputfeedback"  value="#{createrequest.feedback}" cols="10" rows="3" class=" form-control"  >
      <p:watermark for="inputfeedback" value="Please Enter Your Feedback.." />       
      </h:inputTextarea> 
  
</div>

 </div><br></br>
 
</c:when>

</c:choose>

  
 
 
 <div class=" row form-group">
 <div class="col-sm-2 control-label" style="padding-top:0cm;">
 <h:outputLabel  >Status: </h:outputLabel></div>
<div class=" col-sm-6"> 
<h:selectOneRadio value = "#{createrequest.status}" id="status" required="true"  styleClass="selectRadio"  requiredMessage="* Please enter status"> 
  <c:choose>
  <c:when test="#{createrequest.stage eq 8 }">   
   <f:selectItem itemValue = "true" itemLabel ="&nbsp;Active" itemDisabled="true" /> 
   <f:selectItem itemValue = "false" itemLabel ="&nbsp;In-Active" itemDisabled="true" />
   </c:when>
   <c:otherwise>
    <f:selectItem itemValue = "true" itemLabel ="&nbsp;Active" /> 
   <f:selectItem itemValue = "false" itemLabel ="&nbsp;In-Active" />
  
   
   </c:otherwise>
   </c:choose>
</h:selectOneRadio> </div>
 <h:message for="status"  style="color:red;margin:8px;"/> 
 </div><br></br>


 <div class=" row form-group ">
 <div class="col-sm-3 .col-sm-offset-3"></div>
 <div class="col-sm-4 ">
  <c:choose>
  <c:when test="#{createrequest.stage eq 8 }"> 

 </c:when>
 <c:otherwise>
 <h:commandButton action="#{createrequest.updateRequest}" value="Update" class="btn fontsize btn-success btn-block"  ></h:commandButton>
  </c:otherwise> 
 </c:choose>
 </div>

 <div class="col-sm-4 ">
<h:link value="Back To Request List" style="text-decoration:none; color:#fff;" outcome="request" class="btn fontsize btn-primary btn-block"/>
</div>
</div>



   </div><!-- end of container -->
</h:form>

      </p:panelGrid>
      </div>
     
</h:body>
	
</html>