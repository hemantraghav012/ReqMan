<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
	   
 <html lang="en"
      xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	   xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core"
	   xmlns:a="http://xmlns.jcp.org/jsf/passthrough" > 
   <c:choose>
 
<c:when test="#{userroleset eq 1}">
<h:head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="resource/css/bootstrap.css"/>
<link rel="stylesheet" href="resource/mystyle/home.css"/>
<link rel="stylesheet" href="resource/mystyle/friendmaster.css"/>
<link rel="stylesheet" href="resource/mystyle/createcategory.css"/>
<link rel="stylesheet" href="resource/mystyle/Account.css"/>
 <link rel="stylesheet" href="resource/mystyle/button.css"/>
<script type="text/javascript" src="resource/js/bootstrap.js"/>
<script type="text/javascript" src="resource/js/jquery.js"/>
<title>User Roles</title>
<script>

function setUsersHiddenValue(new_value)
{
	document.getElementById('userroleForm:userroleid').value = new_value;

}

</script>
	<style type="text/css">
        .ui-growl {
            
            top:60px;
            Right:20px;
            width:301px;
        
        }
    </style>
</h:head> 
<body> 

	<div id="header">
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
</div>
       
      <!-- -end of header --> 
      <div class="container userrolegrid" >
      
      
      <br></br>  <br></br>  <br></br>
      
      <h:form id="userroleForm">
    <div class="ui-fluid">
<p:growl id="msgs" />
 <h:inputHidden id="userroleid" value="#{userrole.userroleid}" ></h:inputHidden>
 
  <div class="row">
      
      	<div class="col-sm-12">
      		<h1 style="text-align:center;font-size:25px;">Manage User Roles List</h1>
      	</div>
      </div>
 

 
	      <p:dataTable id="userroleTable" var="userrole" value="#{userrolebean.userroleList}" draggableColumns="true" 
	     resizableColumns="true" 
	     reflow="true" scrollable="true" scrollHeight="370"   paginator="true"  editable="true" editMode="cell" scrollWidth="100%"  	       
	      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
	      rowsPerPageTemplate="30,50,105" class="table table-striped table-hover table-bordered" 	     
	     style="margin-top:5px; margin-left:0px; " filteredValue="#{userrolebean.filtereduserroleList}" 	     
	     widgetVar="userroleListTable">
			
			 <f:attribute name="updateUserroleid" value="#{userrole.userroleid}" />
	      <p:ajax event="cellEdit" listener="#{userrolebean.onCellEdit}" update=":userroleForm:msgs" />
 
			
			
			
			<p:column filterBy="#{userrole.userroleid}" sortBy="#{userrole.userroleid}" headerText="userrole Id"  
			 filterMatchMode="contains"   style="padding: 0px 0px 0px 3px; width:125px;">
				<f:facet name="header">
					<h:outputText value="userrole Id"  />
				</f:facet>
				<h:outputText value="#{userrole.userroleid}" />
			</p:column>
			
	 
			<p:column filterBy="#{userrole.username}" sortBy="#{userrole.username}" headerText="User Name"  
			 filterMatchMode="contains"   style="padding: 0px 0px 0px 3px;">
				<f:facet name="header">
					<h:outputText value="User Name"  />
				</f:facet>
				<h:outputText value="#{userrole.username}" />
			</p:column>
			
		
			<p:column filterBy="#{userrole.rolename}" sortBy="#{userrole.rolename}" headerText="Role Name"  
			 filterMatchMode="contains"   style="padding: 0px 0px 0px 3px; width:175px;">
				  <p:cellEditor>
                 <f:facet name="output"><h:outputText value="#{userrole.rolename}" /></f:facet>
               <f:facet name="input">
                   <p:selectOneMenu value="#{userrole.rolename}" onclick='setUsersHiddenValue(#{userrole.userroleid})' style="width:185px">
                        <f:selectItem  itemLabel="Application Admin" itemValue="Application Admin" />
                         <f:selectItem  itemLabel="Account Admin" itemValue="Account Admin" />
                         <f:selectItem   itemLabel="Requestor" itemValue="Requestor" />
                          <f:selectItem  itemLabel="Team Member" itemValue="Team Member" />
                   </p:selectOneMenu>
               </f:facet>    </p:cellEditor>
			</p:column>
			
		
			
	       
	    </p:dataTable>
	     <p:contextMenu for="userroleTable" widgetVar="cMenu">   
       <p:menuitem value="Edit Cell" icon="ui-icon-search" onclick="PF('userroleListTable').showCellEditor();return false;"/>  
       <p:menuitem value="Hide Menu" icon="ui-icon-close" onclick="PF('cMenu').hide()"/>  
   </p:contextMenu> 
	   
	</div>

	
      
      </h:form>
      
      
      </div>  
      
</body>

</c:when>
          <c:otherwise>
          <div style="color:red; font-size: 46px">
          error in this page....</div>
          </c:otherwise>
          </c:choose>  
</html>
